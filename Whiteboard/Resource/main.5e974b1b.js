(self.webpackChunkwhiteboard_bridge=self.webpackChunkwhiteboard_bridge||[]).push([[792],{1982:function(){},3402:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.RoomSyncBridge=t.RoomStateBridge=t.RoomPPTBridge=t.RoomBridge=t.RoomAsyncBridge=void 0,t.registerBridgeRoom=function(e){window.room=e,(0,u.registerDisplayerBridge)(e),(0,s.register)(l.roomNamespace,new k),(0,s.registerAsyn)(l.roomNamespace,new C(e)),(0,s.register)(l.pptNamespace,new E(e)),(0,s.register)(l.roomSyncNamespace,new j(e)),(0,s.register)(l.roomStateNamespace,new x(e)),(0,a.addBridgeLogHook)([l.roomNamespace,l.pptNamespace,l.roomSyncNamespace,l.roomStateNamespace],c.logger)};var o=n(12382),i=n(83391),a=n(83835),c=n(71921),u=n(11824),s=n(55917),l=n(33487);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function y(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function w(){w=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,o){var i=RegExp(e,r);return t.set(i,o||t.get(e)),S(i,n.prototype)}function o(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var o=r[n];if("number"==typeof o)t[n]=e[o];else{for(var i=0;void 0===e[o[i]]&&i+1<o.length;)i++;t[n]=e[o[i]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=o(n,this);var r=n.indices;r&&(r.groups=o(r,this))}return n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var a=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)(>|$)/g,(function(e,t,n){if(""===n)return e;var r=a[t];return Array.isArray(r)?"$"+r.join("$"):"number"==typeof r?"$"+r:""})))}if("function"==typeof i){var c=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=r(e[e.length-1])&&(e=[].slice.call(e)).push(o(e,c)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},w.apply(this,arguments)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function P(e,t,n){var r=function(e){var t,n=e.map((function(e){return{name:e.name}})),r="",o="",i=w(/^pptx?(:\/\/\S+?dynamicConvert)\/(\w+)\//,{prefix:1,taskId:2}),a=v(e);try{for(a.s();!(t=a.n()).done;){var c=t.value.ppt;if(c&&c.src.startsWith("ppt")){var u=i.exec(c.src);if(u&&u.groups){r=u.groups.taskId,o="https"+u.groups.prefix;break}}}}catch(e){a.e(e)}finally{a.f()}return{scenesWithoutPPT:n,taskId:r,url:o}}(n),i=r.scenesWithoutPPT,a=r.taskId,u=r.url;try{return a&&u?window.manager.addApp({kind:"Slide",options:{scenePath:e,title:t,scenes:i},attributes:{taskId:a,url:u}}).then((function(e){return window.fullScreen&&window.manager.setMaximized(!0),e})):window.manager.addApp({kind:o.BuiltinApps.DocsViewer,options:{scenePath:e,title:t,scenes:n}}).then((function(e){return window.fullScreen&&window.manager.setMaximized(!0),e}))}catch(e){return(0,c.logger)("addSlideApp error",e),Promise.reject()}}function O(e){e.getInvisiblePlugin("IframeBridge")&&e.getInvisiblePlugin("IframeBridge").computedZindex(),e.getInvisiblePlugin("IframeBridge")&&e.getInvisiblePlugin("IframeBridge").updateStyle()}var k=t.RoomBridge=y((function e(){m(this,e),g(this,"setWindowManagerAttributes",(function(e){var t,n;null===(t=window.manager)||void 0===t||t.safeSetAttributes(e),null===(n=window.manager)||void 0===n||n.refresh()})),g(this,"setContainerSizeRatio",(function(e){var t;null===(t=window.manager)||void 0===t||t.setContainerSizeRatio(e)})),g(this,"setPrefersColorScheme",(function(e){var t;null===(t=window.manager)||void 0===t||t.setPrefersColorScheme(e)}))})),E=t.RoomPPTBridge=y((function e(t){var n=this;m(this,e),this.room=t,g(this,"nextStep",(function(){n.room.pptNextStep()})),g(this,"previousStep",(function(){n.room.pptPreviousStep()}))})),j=t.RoomSyncBridge=y((function e(t){var n=this;m(this,e),this.room=t,g(this,"syncBlockTimestamp",(function(e){n.room.syncBlockTimestamp(e)})),g(this,"disableSerialization",(function(e){n.room.disableSerialization=e,e||null!=window.manager||((0,s.call)("room.fireCanUndoStepsUpdate",n.room.canUndoSteps),(0,s.call)("room.fireCanRedoStepsUpdate",n.room.canRedoSteps))})),g(this,"copy",(function(){n.room.copy()})),g(this,"paste",(function(){n.room.paste()})),g(this,"duplicate",(function(){n.room.duplicate()})),g(this,"delete",(function(){n.room.delete()})),g(this,"disableEraseImage",(function(e){n.room.disableEraseImage=e}))})),C=t.RoomAsyncBridge=y((function e(t){var n=this;m(this,e),this.room=t,g(this,"redo",(function(e){e(n.room.redo())})),g(this,"undo",(function(e){e(n.room.undo())})),g(this,"canRedoSteps",(function(e){window.manager?e(window.manager.canRedoSteps):e(n.room.canRedoSteps)})),g(this,"canUndoSteps",(function(e){window.manager?e(window.manager.canUndoSteps):e(n.room.canUndoSteps)})),g(this,"setGlobalState",(function(e){n.room.setGlobalState(e)})),g(this,"setScenePath",(function(e,t){try{window.manager?window.manager.setMainViewScenePath(e):n.room.setScenePath(e),t(JSON.stringify({}))}catch(e){return t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}})),g(this,"addPage",(function(e,t){if(window.manager)window.manager.addPage(e).then((function(){t&&t()})).catch((function(e){if(t)return t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}));else{var r=n.room.state.sceneState.contextPath;if(e.after){var o=n.room.state.sceneState.index+1;n.room.putScenes(r,[e.scene||{}],o)}else n.room.putScenes(r,[e.scene||{}]);t&&setTimeout((function(){t()}),0)}})),g(this,"removePage",(function(e,t){if(!window.manager){var r=n.room.state.sceneState.scenes,o=e.index||n.room.state.sceneState.index;if(1==r.length)return(0,c.logger)("removePage warning","can't remove the last page"),t(JSON.stringify({__error:{message:"removePage warning, can't remove the last page"}}));if(o<r.length){var i=n.room.state.sceneState.contextPath,a=i.endsWith("/")?i:i+"/";return n.room.removeScenes(a+r[o].name),t(!0)}return(0,c.logger)("removePage warning","index out of range"),t(JSON.stringify({__error:{message:"removePage warning, index out of range"}}))}window.manager.removePage(e.index).then((function(e){t(e)})).catch((function(e){return t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}))})),g(this,"nextPage",(function(e){if(window.manager)window.manager.nextPage().then((function(t){e(t)}));else{var t=n.room.state.sceneState.index+1;t<n.room.state.sceneState.scenes.length?(n.room.setSceneIndex(t),e(!0)):e(!1)}})),g(this,"prevPage",(function(e){if(window.manager)window.manager.prevPage().then((function(t){e(t)}));else{var t=n.room.state.sceneState.index-1;t>=0?(n.room.setSceneIndex(t),e(!0)):e(!1)}})),g(this,"setMemberState",(function(e){n.room.setMemberState(e)})),g(this,"setViewMode",(function(e){var t=i.ViewMode[e];void 0===t&&(t=i.ViewMode.Freedom),window.manager?window.manager.setViewMode(t):n.room.setViewMode(t)})),g(this,"setWritable",(function(e,t){n.room.setWritable(e).then((function(){t(JSON.stringify({isWritable:n.room.isWritable,observerId:n.room.observerId}))})).catch((function(e){t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}))})),g(this,"getMemberState",(function(e){return e(JSON.stringify(n.room.state.memberState))})),g(this,"getGlobalState",(function(e){return e(JSON.stringify(n.room.state.globalState))})),g(this,"getSceneState",(function(e){return e(JSON.stringify(n.room.state.sceneState))})),g(this,"getRoomMembers",(function(e){return e(JSON.stringify(n.room.state.roomMembers))})),g(this,"getPptImages",(function(e){var t=n.room.state.sceneState.scenes.map((function(e){return e.ppt?e.ppt.src:""}));return e(JSON.stringify(t))})),g(this,"setSceneIndex",(function(e,t){try{window.manager?window.manager.setMainViewSceneIndex(e):n.room.setSceneIndex(e),t(JSON.stringify({}))}catch(e){t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}})),g(this,"getScenes",(function(e){return e(JSON.stringify(n.room.state.sceneState.scenes))})),g(this,"getZoomScale",(function(e){var t=1;return t=window.manager?window.manager.mainView.camera.scale:n.room.state.cameraState.scale,e(JSON.stringify(t))})),g(this,"getBroadcastState",(function(e){return e(JSON.stringify(n.room.state.broadcastState))})),g(this,"getRoomPhase",(function(e){return e(n.room.phase)})),g(this,"disconnect",(function(e){n.room.disconnect().then((function(){e()}))})),g(this,"zoomChange",(function(e){n.room.moveCamera({scale:e})})),g(this,"disableCameraTransform",(function(e){n.room.disableCameraTransform=e})),g(this,"disableDeviceInputs",(function(e){window.manager&&window.manager.setReadonly(e),window.appliancePlugin&&(window.appliancePlugin.disableDeviceInputs=e),n.room.disableDeviceInputs=e,O(n.room)})),g(this,"disableOperations",(function(e){n.room.disableCameraTransform=e,window.manager&&window.manager.setReadonly(e),window.appliancePlugin&&(window.appliancePlugin.disableDeviceInputs=e),n.room.disableDeviceInputs=e,O(n.room)})),g(this,"disableWindowOperation",(function(e){var t;null===(t=window.manager)||void 0===t||t.setReadonly(e)})),g(this,"putScenes",(function(e,t,r,o){n.room.putScenes(e,t,r),o(JSON.stringify(n.room.state.sceneState))})),g(this,"removeScenes",(function(e){n.room.removeScenes(e)})),g(this,"moveScene",(function(e,t){n.room.moveScene(e,t)})),g(this,"insertText",(function(e,t,r,o){var i;window.manager?o(null===(i=window.manager.focusedView)||void 0===i?void 0:i.insertText(e,t,r)):o(n.room.insertText(e,t,r))})),g(this,"updateText",(function(e,t){var r;window.manager?null===(r=window.manager.focusedView)||void 0===r||r.updateText(e,t):n.room.updateText(e,t)})),g(this,"cleanScene",(function(e){n.room.cleanCurrentScene(e)})),g(this,"insertImage",(function(e){n.room.insertImage(e)})),g(this,"insertVideo",(function(e){})),g(this,"completeImageUpload",(function(e,t){n.room.completeImageUpload(e,t)})),g(this,"dispatchMagixEvent",(function(e){n.room.dispatchMagixEvent(e.eventName,e.payload)})),g(this,"setTimeDelay",(function(e){n.room.timeDelay=e})),g(this,"addApp",(function(e,t,n,r){if(window.manager){if("Slide"===e){var o=n||{},i=o.taskId,a=o.url;if(i&&a)window.manager.addApp({kind:e,options:t,attributes:n}).then((function(e){r(e)}));else{var c=t;P(c.scenePath,c.title,c.scenes).then((function(e){r(e)}))}}else window.manager.addApp({kind:e,options:t,attributes:n}).then((function(e){r(e)}));window.fullScreen&&window.manager.setMaximized(!0)}})),g(this,"closeApp",(function(e,t){window.manager&&window.manager.closeApp(e).then((function(){return t(void 0)}))})),g(this,"focusApp",(function(e){window.manager&&window.manager.focusApp(e)})),g(this,"queryAllApps",(function(e){if(window.manager)return e(window.manager.apps?JSON.stringify(window.manager.apps):{})})),g(this,"queryApp",(function(e,t){if(window.manager){var n=window.manager.apps;if(!n)return t(JSON.stringify({__error:{message:"apps not existed"}}));var r=n[e];return t(r?JSON.stringify(r):JSON.stringify({__error:{message:"app "+e+" not existed"}}))}})),g(this,"dispatchDocsEvent",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;window.manager&&n(function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.appId||e.focused;if(!i)return console.warn("not found "+(o.appId||"focused app")),!1;if(i.startsWith("DocsViewer-")){var a,c=null===(a=e.queryOne(i))||void 0===a||null===(a=a.box)||void 0===a?void 0:a.$footer;if(!c)return console.warn("not found app with id "+i),!1;var u=function(e){e&&e.dispatchEvent(new MouseEvent("click"))};switch(t){case"prevPage":case"prevStep":u(c.querySelector('button[class$="btn-page-back"]'));break;case"nextPage":case"nextStep":u(c.querySelector('button[class$="btn-page-next"]'));break;case"jumpToPage":if(n=o.page,!(r=c.querySelector('input[class$="page-number-input"]'))||"number"!=typeof n)return console.warn("failed to jump"+(n?" to page "+n:"")),!1;r.value=""+n,r.dispatchEvent(new InputEvent("change"));break;default:return console.warn("unknown event "+t),!1}return!0}if(!i.startsWith("Slide-"))return console.warn("not supported app "+i),!1;var s,l=null===(s=e.queryOne(i))||void 0===s?void 0:s.appResult;if(!l)return console.warn("not found app with id "+i),!1;switch(t){case"prevPage":return l.prevPage();case"nextPage":return l.nextPage();case"prevStep":return l.prevStep();case"nextStep":return l.nextStep();case"jumpToPage":return"number"!=typeof(n=o.page)?(console.warn("failed to jump"+(n?" to page "+n:"")),!1):l.jumpToPage(n);default:return console.warn("unknown event "+t),!1}}(window.manager,e,t||{}))})),g(this,"syncMode",(function(e){n.room.syncMode=e}))})),x=t.RoomStateBridge=y((function e(t){var n=this;m(this,e),this.room=t,g(this,"getRoomState",(function(){var e=n.room.state;return window.manager?d(d(d({},e),{windowBoxState:window.manager.boxState}),{},{cameraState:window.manager.cameraState,sceneState:window.manager.sceneState},{pageState:window.manager.pageState}):d(d({},e),(0,a.createPageState)(e.sceneState))})),g(this,"getTimeDelay",(function(){return n.room.timeDelay})),g(this,"getPhase",(function(){return n.room.phase})),g(this,"isWritable",(function(){return n.room.isWritable})),g(this,"debugInfo",(function(){try{var e=n.room.screen,t=e.camera,r=e.visionRectangle,o=e.adaptedRectangle,i=e.divElement;return{camera:t,visionRectangle:r,adaptedRectangle:o,divWidth:i.clientWidth,divHeight:i.clientHeight}}catch(e){return{error:e.message}}}))}))},11824:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayerBridge=t.AsyncDisplayerBridge=void 0,t.registerDisplayerBridge=function(e){(0,i.register)(v,new O(e)),(0,i.registerAsyn)(b,new P(e)),(0,u.addBridgeLogHook)([v,b],l.logger)};var o,i=n(55917),a=n(78234),c=(o=n(58659))&&o.__esModule?o:{default:o},u=n(83835),s=n(61540),l=n(71921);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function g(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */g=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new I(r||[]);return i(a,"_invoke",{value:x(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",y="suspendedYield",m="executing",h="completed",v={};function b(){}function w(){}function S(){}var P={};l(P,c,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(L([])));k&&k!==n&&o.call(k,c)&&(P=k);var E=S.prototype=b.prototype=Object.create(P);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,c,u){var s=d(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,u)}),(function(e){n("throw",e,c,u)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,n,r){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=_(c,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var s=d(t,n,r);if("normal"===s.type){if(o=r.done?h:y,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=h,r.method="throw",r.arg=s.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return w.prototype=S,i(E,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:w,configurable:!0}),w.displayName=l(S,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,l(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},j(C.prototype),l(C.prototype,u,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(E),l(E,s,"Generator"),l(E,c,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function h(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var v="displayer",b="displayerAsync";function w(e){return fetch(e).then((function(e){return e.blob()})).then((function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){t(this.result)},n.readAsDataURL(e)}))}))}function S(e,t,n){var r=document.createElement("div");r.setAttribute("class","shadow");var o=document.getElementById(s.whiteboardContainerId);if(o){var i=window.getComputedStyle(o).backgroundColor;r.style.background=i}document.body.appendChild(r),Promise.resolve(t(e,r,r.clientWidth,r.clientHeight)).then((function(){return(0,c.default)(r,{useCORS:!0,onclone:(e=g().mark((function e(t){var n,r,o,i,a,c,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.from(t.getElementsByTagName("image")),r=0,o=n;case 2:if(!(r<o.length)){e.next=13;break}return i=o[r],c=(a=i).href.baseVal,e.next=8,w(c);case 8:u=e.sent,a.href.baseVal=u;case 10:r++,e.next=2;break;case 13:case"end":return e.stop()}}),e)})),t=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,c,"next",e)}function c(e){h(i,r,o,a,c,"throw",e)}a(void 0)}))},function(e){return t.apply(this,arguments)})});var e,t})).then((function(e){var t=e.toDataURL();document.body.removeChild(r),n(t)}))}window.setBackgroundColor=function(e,t,n,r){var o=document.getElementById(s.whiteboardContainerId);if(o){var i="rgb(".concat(e,", ").concat(t,", ").concat(n,")");o.style.background=i}else console.log(s.whiteboardContainerId,"not exist")};var P=t.AsyncDisplayerBridge=d((function e(t){var n=this;p(this,e),this.aDisplayer=t,y(this,"sceneSnapshot",(function(e,t){S(e,window.appliancePlugin?n.aDisplayer.fillSceneSnapshotAsync.bind(n.aDisplayer):n.aDisplayer.fillSceneSnapshot.bind(n.aDisplayer),t)})),y(this,"scenePreview",(function(e,t){S(e,window.appliancePlugin?n.aDisplayer.scenePreviewAsync.bind(n.aDisplayer):n.aDisplayer.scenePreview.bind(n.aDisplayer),t)}))})),O=t.DisplayerBridge=d((function e(t){var n=this;p(this,e),this.aDisplayer=t,y(this,"postMessage",(function(e){var t={name:"parentWindow",payload:e},n=document.getElementsByTagName("iframe");n.length>0&&n[0].contentWindow?n[0].contentWindow.postMessage(t,"*"):0==n.length?(0,l.logger)("postmessage fail","no frames exist"):(0,l.logger)("postmessage fail","no content Window")})),y(this,"scaleIframeToFit",(function(){var e=n.aDisplayer.getInvisiblePlugin("IframeBridge");e&&e.scaleIframeToFit()})),y(this,"setDisableCameraTransform",(function(e){n.aDisplayer.disableCameraTransform=e})),y(this,"getDisableCameraTransform",(function(){return n.aDisplayer.disableCameraTransform})),y(this,"setCameraBound",(function(e){var t=(0,a.convertBound)(e);n.aDisplayer.setCameraBound(t)})),y(this,"getMemberState",(function(e){return JSON.stringify(n.aDisplayer.memberState(e))})),y(this,"getWindowManagerAttributes",(function(){var e;return JSON.parse(JSON.stringify(null===(e=window.manager)||void 0===e||null===(e=e.appManager)||void 0===e?void 0:e.attributes))})),y(this,"scenePathType",(function(e){return n.aDisplayer.scenePathType(e)})),y(this,"entireScenes",(function(){return n.aDisplayer.entireScenes()})),y(this,"getScene",(function(e){return n.aDisplayer.getScene(e)})),y(this,"moveCamera",(function(e){n.aDisplayer.moveCamera(e)})),y(this,"moveCameraToContain",(function(e){n.aDisplayer.moveCameraToContain(e)})),y(this,"refreshViewSize",(function(){n.aDisplayer.refreshViewSize()})),y(this,"scalePptToFit",(function(e){n.aDisplayer.scalePptToFit(e)})),y(this,"convertToPointInWorld",(function(e,t){return n.aDisplayer.convertToPointInWorld({x:e,y:t})})),y(this,"setBackgroundColor",(function(e,t,n,r){var o=document.getElementById(s.whiteboardContainerId),i="rgb(".concat(e,", ").concat(t,", ").concat(n,")");o.style.background=i})),y(this,"addHighFrequencyEventListener",(function(e,t){n.aDisplayer.addMagixEventListener(e,(function(e){var t=n.aDisplayer.uuid||n.aDisplayer.roomUUID,r=e.map((function(e){return{uuid:t,eventName:e.event,payload:e.payload,scope:e.scope,authorId:e.authorId}}));(0,u.isRoom)(n.aDisplayer)?(0,i.call)("room.fireHighFrequencyEvent",JSON.stringify(r)):(0,i.call)("player.fireHighFrequencyEvent",JSON.stringify(r))}),t)})),y(this,"addMagixEventListener",(function(e){n.aDisplayer.addMagixEventListener(e,(function(e){var t={uuid:n.aDisplayer.uuid||n.aDisplayer.roomUUID,eventName:e.event,payload:e.payload,scope:e.scope,authorId:e.authorId};(0,u.isRoom)(n.aDisplayer)?(0,i.call)("room.fireMagixEvent",JSON.stringify(t)):(0,i.call)("player.fireMagixEvent",JSON.stringify(t))}))})),y(this,"removeMagixEventListener",(function(e){n.aDisplayer.removeMagixEventListener(e)}))}))},16362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hookCreateElement=function(){var e=document.createElement;if(e.toString().includes('addEventListener("error"'))return;console.log("interrupt document.createElement success"),document.createElement=function(t,n){var r=e.call(this,t,n);return"IMG"===r.nodeName&&(r.addEventListener("error",o,{once:!0}),r.addEventListener("unload",(function(){r.removeEventListener("error",o)}))),r}};var r=n(83835);function o(e){var t={error:e,message:e.message,src:this.currentSrc,customMessage:!0,name:"imageLoadError"};(0,r.postCustomMessage)({data:t})}},20392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDebugFunctions=function(){window.testRoom=function(){(0,r.enableReport)(!0);var e={log:!0,userCursor:!0,__platform:"bridge",appIdentifier:o,useMultiViews:!0};window.newWhiteSdk(e,(function(){}));var t={uuid:i,uid:"0",roomToken:a,windowParams:{containerSizeRatio:3/4,fullscreen:!1},userPayload:{avatar:"https://white-pan.oss-cn-shanghai.aliyuncs.com/40/image/mask.jpg"}};window.joinRoom(t,(function(){window.bridgeRoom=window.bridge.registerMap.async.room}))},window.testReplay=function(){(0,r.enableReport)(!0);var e={log:!0,userCursor:!0,__platform:"bridge",appIdentifier:o,useMultiViews:!0};window.newWhiteSdk(e,(function(){}));var t={room:i,roomToken:a};window.replayRoom(t,(function(){}))}};var r=n(71921),o="",i="",a=""},22467:function(e,t,n){"use strict";n(5134),n(82469);var r=n(65047);window.ResizeObserver||(window.ResizeObserver=r.ResizeObserver),window.globalThis||(window.globalThis=window)},25926:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addManagerListener=function(e,t,n){window.manager=e,function(e){return void 0!==e.onRoomStateChanged}(n)?function(e,t,n){e.emitter.on("cameraStateChange",(function(e){n.onRoomStateChanged({cameraState:e})})),e.emitter.on("sceneStateChange",(function(e){(0,r.call)("room.fireRoomStateChanged",JSON.stringify({sceneState:e}))})),e.emitter.on("boxStateChange",(function(e){n.onRoomStateChanged({windowBoxState:e})})),e.emitter.on("pageStateChange",(function(e){n.onRoomStateChanged({pageState:e})})),e.emitter.on("canRedoStepsChange",(function(e){n.onCanRedoStepsUpdate(e)})),e.emitter.on("canUndoStepsChange",(function(e){n.onCanUndoStepsUpdate(e)})),e.emitter.on("loadApp",(function(e){t("loadApp",e)}))}(e,t,n):function(e,t,n){e.emitter.on("cameraStateChange",(function(e){n.onPlayerStateChanged({cameraState:e})})),e.emitter.on("sceneStateChange",(function(e){(0,r.call)("player.onPlayerStateChanged",JSON.stringify({sceneState:e}))})),e.emitter.on("boxStateChange",(function(e){n.onPlayerStateChanged({windowBoxState:e})})),e.emitter.on("pageStateChange",(function(e){n.onPlayerStateChanged({pageState:e})})),e.emitter.on("loadApp",(function(e){t("loadApp",e)}))}(e,t,n)};var r=n(55917)},33246:function(e,t,n){"use strict";n.r(t)},33334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lastSchedule=t.ReplayerCallbackHandlerImp=void 0;var r=n(55917),o=n(83391),i=n(60349),a=n(71921);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var d,p=t.lastSchedule={time:0},y=!1;t.ReplayerCallbackHandlerImp=s((function e(t,n,c,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"onPhaseChanged",(function(e){})),l(this,"onLoadFirstFrame",(function(){(0,r.call)("player.onPlayerStateChanged",JSON.stringify(window.player.state)),(0,r.call)("player.onLoadFirstFrame"),y&&(0,i.postIframeMessage)({eventName:"onLoadFirstFrame",params:[]},a.logger)})),l(this,"onPlayerStateChanged",(function(e){window.manager&&e.sceneState||((0,r.call)("player.onPlayerStateChanged",JSON.stringify(e)),y&&(0,i.postIframeMessage)({eventName:"onPlayerStateChanged",params:[e]},a.logger))})),l(this,"onStoppedWithError",(function(e){(0,r.call)("player.onStoppedWithError",JSON.stringify({error:e.message,jsStack:e.stack})),y&&(0,i.postIframeMessage)({eventName:"onStoppedWithError",params:[e]},a.logger)})),l(this,"onProgressTimeChanged",(function(e){!function(e,t,n){var r=window.player;void 0!==r&&(t>=p.time?(e(),p.time=Math.ceil(t/n)*n):r&&t+n>r.timeDuration&&(e(),p.time=t))}((function(){(0,r.call)("player.onScheduleTimeChanged",e)}),e,d),y&&(0,i.postIframeMessage)({eventName:"onProgressTimeChanged",params:[e]},a.logger)})),l(this,"onCatchErrorWhenAppendFrame",(function(e,t){})),l(this,"onCatchErrorWhenRender",(function(e){(0,r.call)("player.onCatchErrorWhenRender",{error:e.message})})),y=c,d=t,this.onPhaseChanged=function(e){var t=window.player;if(void 0!==t){u(t,e);var c=function(e){p.time=0,(0,r.call)("player.onPhaseChanged",e),y&&(0,i.postIframeMessage)({eventName:"onPhaseChanged",params:[e]},a.logger)};n&&e!==o.PlayerPhase.WaitingFirstFrame&&e!==o.PlayerPhase.Stopped||c(e)}}}))},38635:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomCallbackHandler=void 0;var r=n(71921),o=n(55917),i=n(83835),a=n(83391),c=["sceneState"];function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}t.RoomCallbackHandler=d((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"onPhaseChanged",(function(e){(0,o.call)("room.firePhaseChanged",e);var t=window.room;t&&t.phase===a.RoomPhase.Reconnecting&&setTimeout((function(){t&&t.phase===a.RoomPhase.Reconnecting&&((0,r.logger)("room start disconnect by reconnecting timeout by bridge"),t.disconnect().then((function(){var e="Reconnect time exceeds ".concat(45e3," milliseconds, sdk call disconnect automatically");(0,r.logger)(e),(0,o.call)("room.fireDisconnectWithError",e)})))}),45e3)})),p(this,"onCanUndoStepsUpdate",(function(e){(0,o.call)("room.fireCanUndoStepsUpdate",e)})),p(this,"onCanRedoStepsUpdate",(function(e){(0,o.call)("room.fireCanRedoStepsUpdate",e)})),p(this,"onRoomStateChanged",(function(e){var t=e,n=t.sceneState,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,c);window.manager?0!==Object.keys(r).length&&(0,o.call)("room.fireRoomStateChanged",JSON.stringify(r)):(n&&(e=l(l({},e),(0,i.createPageState)(n))),(0,o.call)("room.fireRoomStateChanged",JSON.stringify(e)))})),p(this,"onDisconnectWithError",(function(e){(0,o.call)("room.fireDisconnectWithError",e.message)})),p(this,"onKickedWithReason",(function(e){(0,o.call)("room.fireKickedWithReason",e)})),p(this,"onCatchErrorWhenAppendFrame",(function(e,t){(0,r.logger)("onCatchErrorWhenAppendFrame",[e,t.message]),(0,o.call)("room.fireCatchErrorWhenAppendFrame",{userId:e,error:t.message})})),p(this,"onCatchErrorWhenRender",(function(e){}))}))},41234:function(){},46666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RtcAudioEffectClient=void 0;var r=n(55917),o=n(29392),i=n(71921);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){return t=d(t),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var h,v=function(e){function t(){var e;s(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(e=l(this,t,[].concat(r)),"audioEffectCallback",(function(n,r){switch((0,i.logger)("audioEffectCallback",{soundId:n,state:r}),r){case t.kAgoraAudioEffectStatePlaying:return void e.emit("play",n);case t.kAgoraAudioEffectStatePaused:case t.kAgoraAudioEffectStateStopped:return void e.emit("pause",n);case t.kAgoraAudioEffectStateFailed:return void e.emit("error",n)}})),m(e,"setEffectFinished",(function(t){(0,i.logger)("setEffectFinished",{soundId:t}),e.emit("effectFinished",t)})),m(e,"effectDurationCallback",(function(t,n){(0,i.logger)("effectDurationCallback",{filePath:t,duration:n}),e.emit("duration",t,n)})),e}return p(t,e),u(t)}(o.EventEmitter);m(v,"kAgoraAudioEffectStatePlaying",810),m(v,"kAgoraAudioEffectStatePaused",811),m(v,"kAgoraAudioEffectStateStopped",813),m(v,"kAgoraAudioEffectStateFailed",814);t.RtcAudioEffectClient=function(e){function t(e){var n;s(this,t),m(n=l(this,t),"identifier",void 0),n.identifier=e,n.addListener("error",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("audio effect client callback error",t)})),h||(h=new v,(0,r.register)("rtc",h));var o=h;return o.on("play",(function(e){n.emit("play",e)})),o.on("pause",(function(e){n.emit("pause",e)})),o.on("error",(function(e){n.emit("error",e)})),o.on("effectFinished",(function(e){n.emit("effectFinished",e)})),o.on("duration",(function(e,t){n.emit("duration",e,t)})),n}return p(t,e),u(t,[{key:"getEffectsVolume",value:function(){return(0,i.logger)("getEffectsVolume"),(0,r.asyncCall)("rtc.getEffectsVolume")}},{key:"setEffectsVolume",value:function(e){return(0,i.logger)("setEffectsVolume",{volume:e}),(0,r.asyncCall)("rtc.setEffectsVolume",e)}},{key:"setVolumeOfEffect",value:function(e,t){return(0,i.logger)("setVolumeOfEffect",{soundId:e,volume:t}),(0,r.asyncCall)("rtc.setVolumeOfEffect",{soundId:e,volume:t})}},{key:"playEffect",value:function(e,t,n,o,a,c,u,s){return(0,i.logger)("playEffect",{soundId:e,filePath:t,loopCount:n,pitch:o,pan:a,gain:c,publish:u,startPos:s,identifier:this.identifier}),(0,r.asyncCall)("rtc.playEffect",{soundId:e,filePath:t,loopCount:n,pitch:o,pan:a,gain:c,publish:u,startPos:s,identifier:this.identifier})}},{key:"stopEffect",value:function(e){return(0,i.logger)("stopEffect",{soundId:e}),(0,r.asyncCall)("rtc.stopEffect",e)}},{key:"stopAllEffects",value:function(){return(0,i.logger)("stopAllEffects"),(0,r.asyncCall)("rtc.stopAllEffects")}},{key:"preloadEffect",value:function(e,t,n){return(0,i.logger)("preloadEffect",{soundId:e,filePath:t,startPos:n}),(0,r.asyncCall)("rtc.preloadEffect",{soundId:e,filePath:t,startPos:n})}},{key:"unloadEffect",value:function(e){return(0,i.logger)("unloadEffect",{soundId:e}),(0,r.asyncCall)("rtc.unloadEffect",e)}},{key:"pauseEffect",value:function(e){return(0,i.logger)("pauseEffect",{soundId:e}),(0,r.asyncCall)("rtc.pauseEffect",e)}},{key:"pauseAllEffects",value:function(){return(0,i.logger)("pauseAllEffects"),(0,r.asyncCall)("rtc.pauseAllEffects")}},{key:"resumeEffect",value:function(e){return(0,i.logger)("resumeEffect",{soundId:e}),(0,r.asyncCall)("rtc.resumeEffect",e)}},{key:"resumeAllEffects",value:function(){return(0,i.logger)("resumeAllEffects"),(0,r.asyncCall)("rtc.resumeAllEffects")}},{key:"getEffectDuration",value:function(e){return(0,i.logger)("getEffectDuration",{url:e}),(0,r.asyncCall)("rtc.getEffectDuration",e)}},{key:"setEffectPosition",value:function(e,t){return(0,i.logger)("setEffectPosition",{soundId:e,pos:t}),(0,r.asyncCall)("rtc.setEffectPosition",{soundId:e,pos:t})}},{key:"getEffectCurrentPosition",value:function(e){return(0,r.asyncCall)("rtc.getEffectCurrentPosition",e)}}])}(o.EventEmitter)},54578:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.StoreBridge=t.StoreAsyncBridge=void 0,t.destroySyncedStore=function(){var e;g.clear(),null===(e=window.syncedStore)||void 0===e||e.destroy(),window.syncedStore=void 0},t.initSyncedStore=function(e){return h.apply(this,arguments)};var o=n(40010),i=n(55917),a=n(83835),c=n(71921);function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new I(r||[]);return i(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var y="suspendedStart",m="suspendedYield",g="executing",h="completed",v={};function b(){}function w(){}function S(){}var P={};f(P,c,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(L([])));k&&k!==n&&o.call(k,c)&&(P=k);var E=S.prototype=b.prototype=Object.create(P);function j(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,c,u){var s=p(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,u)}),(function(e){n("throw",e,c,u)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,n,r){var o=y;return function(i,a){if(o===g)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=_(c,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===y)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var s=p(t,n,r);if("normal"===s.type){if(o=r.done?h:m,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=h,r.method="throw",r.arg=s.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return w.prototype=S,i(E,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:w,configurable:!0}),w.displayName=f(S,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,f(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},j(C.prototype),f(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(E),f(E,l,"Generator"),f(E,c,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function y(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var m="store",g=new Map;function h(){var e;return e=u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.SyncedStorePlugin.init(t);case 2:return n=e.sent,window.syncedStore=n,(0,i.register)(m,new b(n)),(0,i.registerAsyn)("store",new v(n)),(0,a.addBridgeLogHook)([m],c.logger),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})),h=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,c,"next",e)}function c(e){y(i,r,o,a,c,"throw",e)}a(void 0)}))},h.apply(this,arguments)}var v=t.StoreAsyncBridge=l((function e(t){var n=this;f(this,e),this.syncedStore=t,d(this,"connectStorage",(function(e,t,r){if(g.has(e))r(JSON.stringify(g.get(e).state));else try{var o=n.syncedStore.connectStorage(e,t);o.on("stateChanged",(function(t){(0,i.call)("store.fireSyncedStoreUpdate",JSON.stringify({name:e,data:t}))})),g.set(e,o),r(JSON.stringify(o.state))}catch(e){r(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}})),d(this,"getStorageState",(function(e,t){var n=g.get(e);return t(JSON.stringify((null==n?void 0:n.state)||{}))}))})),b=t.StoreBridge=l((function e(t){f(this,e),this.syncedStore=t,d(this,"disconnectStorage",(function(e){var t=g.get(e);null==t||t.disconnect(),g.delete(e)})),d(this,"deleteStorage",(function(e){var t=g.get(e);null==t||t.deleteStorage(),g.delete(e)})),d(this,"resetState",(function(e){var t=g.get(e);null==t||t.resetState()})),d(this,"setStorageState",(function(e,t){var n=g.get(e);null==n||n.setState(t)}))}))},55917:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syncCall=t.registerAsyn=t.register=t.call=t.asyncCall=void 0;var r,o=n(94081);window.ReactNativeWebView?(r=new o.RNBridge,window.bridge=r):window.bridge=o.bridge;t.call=function(e,t){r?r.call(e,t):o.bridge.call(e,t)},t.asyncCall=function(e,t){return r?Promise.resolve(t):o.bridge.asyncCall(e,t)},t.syncCall=function(e,t){return r?t:o.bridge.syncCall(e,t)},t.register=function(e,t){r?r.register(e,t):o.bridge.register(e,t)},t.registerAsyn=function(e,t){r?r.registerAsyn(e,t):o.bridge.registerAsync(e,t)}},57233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RtcAudioMixingClient=void 0;var r=n(55917);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function a(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var u=t.RtcAudioMixingClient=function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"startCallback",void 0),a(this,"stopCallback",void 0),a(this,"startAudioMixing",(function(e,n,o,i,a){return t.startCallback=a,(0,r.call)("rtc.startAudioMixing",{filePath:e,loopback:n,replace:o,cycle:i}),0})),a(this,"stopAudioMixing",(function(e){return t.stopCallback=e,(0,r.call)("rtc.stopAudioMixing"),0})),(0,r.register)("rtc",{callback:function(n,r){switch(n){case e.kStopAudioMixing:t.stopCallback&&t.stopCallback(n,r);break;case e.kStartAudioMixing:t.startCallback&&t.startCallback(n,r);break;default:t.startCallback?t.startCallback(n,r):t.stopCallback&&t.stopCallback(n,r)}}})},(t=[{key:"pauseAudioMixing",value:function(){return(0,r.call)("rtc.pauseAudioMixing"),0}},{key:"resumeAudioMixing",value:function(){return(0,r.call)("rtc.resumeAudioMixing"),0}},{key:"setAudioMixingPosition",value:function(e){return(0,r.call)("rtc.setAudioMixingPosition",e),0}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();a(u,"kStartAudioMixing",710),a(u,"kStopAudioMixing",713),a(u,"kAudioError",714)},60080:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketBridge=void 0;var r=n(55917);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function a(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var u,s=function(e){return e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e}(s||{});function l(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer}u=WebSocket,WebSocket=function(e,t){return window.nativeWebSocket?new d(e):new u(e,t)};var f=0,d=t.WebSocketBridge=function(){return e=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"binaryType","blob"),a(this,"key",void 0),a(this,"_readyState",s.CONNECTING),a(this,"_bufferedAmount",0),a(this,"listeners",{}),a(this,"onceListeners",{}),a(this,"_onError",(function(e){n.key===e.key&&(console.log("_onError: ",e),n.dispatchEvent("error",e))})),a(this,"_onMessage",(function(e){n.key===e.key&&("arraybuffer"===e.type?n.dispatchEvent("message",{data:l(e.data),key:n.key}):n.dispatchEvent("message",{data:e.data,key:n.key}))})),a(this,"_onClose",(function(e){n.key===e.key&&(console.log("_onClose: ",e),n._readyState=s.CLOSED,n.dispatchEvent("close",e))})),a(this,"_onOpen",(function(e){n.key===e.key&&(console.log("_onOpen"),n._readyState=s.OPEN,n.dispatchEvent("open",{}))})),this.key=f,f+=1,this.registerBridge(),(0,r.call)("ws.setup",{url:t,key:this.key})},(t=[{key:"readyState",get:function(){return this._readyState}},{key:"bufferedAmount",get:function(){return this._bufferedAmount}},{key:"send",value:function(e){if(e instanceof ArrayBuffer){var t=function(e){for(var t=new Uint8Array(e),n="",r=t.length,o=0;o<r;o++)n+=String.fromCharCode(t[o]);return window.btoa(n)}(e);(0,r.call)("ws.send",{data:t,type:"arraybuffer",key:this.key})}else(0,r.call)("ws.send",{data:e,type:"string",key:this.key})}},{key:"close",value:function(e,t){console.log("close: ",{code:e,reason:t}),this._readyState=s.CLOSING,(0,r.call)("ws.close",{code:e,reason:t,key:this.key})}},{key:"addEventListener",value:function(e,t,n){this.listeners[e]=this.listeners[e]||[],this.onceListeners[e]=this.onceListeners[e]||[],n&&!0!==n&&n.once?this.onceListeners[e].push(t):this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t,n){if(e in this.listeners){for(var r=this.listeners[e],o=0,i=r.length;o<i;o++)if(r[o]===t){r.splice(o,1);break}for(var a=this.onceListeners[e],c=0,u=a.length;c<u;c++)if(a[c]===t){a.splice(c,1);break}}}},{key:"dispatchEvent",value:function(e,t){if(!(e in this.listeners))return!0;for(var n=this.listeners[e].slice(),r=0,o=n.length;r<o;r++)n[r].call(this,t);for(var i=this.onceListeners[e].slice(),a=0,c=i.length;a<c;a++)i[a].call(this,t),i.splice(a,1);return!0}},{key:"registerBridge",value:function(){(0,r.register)("ws",{onError:this._onError,onMessage:this._onMessage,onClose:this._onClose,onOpen:this._onOpen})}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},60209:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(79372),n(51636),n(11781),n(85772),n(77457),n(45938),n(24963),n(45086),n(61560),n(30244),n(25738),n(68381),n(90466),n(51621),n(63625),n(32338),n(93200),n(73607),n(49130),n(19711),n(52218),n(2989),n(63381),n(53644),n(47487),n(77371),n(9392),n(7895),n(96812),n(37947),n(88436),n(51479),n(27643),n(96953),n(53459),n(48457),n(61801),n(97094),n(60812),n(22018),n(7482),n(7552),n(87649),n(11260),n(4888),n(56172),n(52894),n(93525),n(50086),n(83793),n(18178),n(50259),n(29421),n(67540),n(37158),n(49879),n(49399),n(81826),n(79779),n(54156),n(14711),n(41748),n(31214),n(68723),n(54165),n(82940),n(85414),n(52696),n(2394),n(64779),n(73932),n(1764),n(21088),n(33146),n(82134),n(31396),n(9105),n(74534),n(71816),n(58756),n(12459),n(94553),n(90350),n(13403),n(93920),n(71650),n(44221),n(26579),n(20983),n(23586),n(41520),n(15098),n(43664),n(42891),n(87062),n(12905),n(19619),n(57594),n(46057),n(36940),n(14670),n(58382),n(59541),n(7644),n(52710),n(25753),n(78915),n(12906),n(53994),n(76881),n(27346),n(63175),n(52286),n(15412),n(86746),n(13358),n(62599),n(75990),n(70602),n(24066),n(34889),n(47318),n(94010),n(50503),n(48077),n(11272),n(58435),n(19935),n(48747),n(71667),n(79007),n(44123),n(99334),n(73115),n(77204),n(54225),n(94026),n(14156),n(75312),n(98131),n(63777),n(91895),n(92063),n(93595),n(65103),n(98804),n(18629),n(2488),n(55145),n(12958),n(30651),n(49560),n(27068),n(92146),n(10933),n(64650),n(62679),n(82452),n(8259),n(6990),n(42896),n(76962),n(33490),n(14170),n(33658),n(28433),n(97491),n(65693),n(12421),n(64696),n(76807),n(40337),n(10103),n(66407),n(74819),n(5151),n(22467),n(70632),n(60080);var o,i=d(n(48759)),a=d(n(71602)),c=(o=n(61540))&&o.__esModule?o:{default:o},u=n(20392),s=n(12382),l=n(69685);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}a.render(i.createElement(c.default,null),document.getElementById("root")),(0,l.registerSDKBridge)(),window.registerApp=s.WindowManager.register,(0,u.addDebugFunctions)()},60349:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postIframeMessage=function(e,t){var n={name:"parentWindow",payload:e},r=document.getElementsByTagName("iframe");if(r.length>0&&r[0].contentWindow){r[0].contentWindow.postMessage(n,"*")}else 0==r.length?null==t||t("postmessage fail","no frames exist"):null==t||t("postmessage fail","no conentWindow")}},61540:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,o.useEffect)((function(){return function(){window.removeEventListener("error",i.globalErrorEvent),window.removeEventListener("message",i.postCustomMessage)}}),[]),window.addEventListener("error",i.globalErrorEvent),window.addEventListener("message",i.postCustomMessage);var e=(0,o.useRef)(null);return(0,a.setWhiteboardDivGetter)((function(){return e.current})),o.default.createElement("div",{id:u,ref:e,style:{position:"absolute",left:0,top:0,right:0,bottom:0,zIndex:1}})},t.whiteboardContainerId=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(48759)),i=n(83835),a=n(69685);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}n(95517),n(19538),n(33246),n(80748);var u=t.whiteboardContainerId="whiteboard-container"},67546:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKCallbackHandler=void 0;var r=n(55917);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}t.SDKCallbackHandler=a((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"onPostMessage",(function(e){(0,r.call)("sdk.postMessage",e)})),c(this,"onThrowError",(function(e){(0,r.call)("sdk.throwError",e)})),c(this,"onLogger",(function(e){(0,r.call)("sdk.logger",e)})),c(this,"onUrlInterrupter",(function(e){return(0,r.syncCall)("sdk.urlInterrupter",e)})),c(this,"slideUrlInterrupter",(function(e){return(0,r.asyncCall)("sdk.slideUrlInterrupter",e)})),c(this,"onSetupFail",(function(e){(0,r.call)("sdk.setupFail",{message:e.message,jsStack:e.stack})})),c(this,"onPPTLoadProgress",(function(e,t){})),c(this,"onPPTMediaPlay",(function(e,t){console.log("onPPTMediaPlay"),(0,r.call)("sdk.onPPTMediaPlay",{shapeId:e,type:t})})),c(this,"onPPTMediaPause",(function(e,t){(0,r.call)("sdk.onPPTMediaPause",{shapeId:e,type:t})}))}))},67640:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0}),t.SlideLoggerPlugin=void 0;t.SlideLoggerPlugin=function(){return e=function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r="Slide.initConfig",(n=a(n="hookPoint"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r},(t=[{key:"after",value:function(e){return e}},{key:"before",value:function(e){var t=r(e,1)[0],n=t.logger;return t.logger={info:function(e){console.log(e),null!=n&&n.info&&n.info(e)},warn:function(e){console.warn(e),null!=n&&n.warn&&n.warn(e)},error:function(e){console.error(e),null!=n&&n.error&&n.error(e)}},[t]}},{key:"context",value:function(e){}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},69685:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerSDKBridge=function(){var e=new Se;(0,a.registerAsyn)(he,e),window.newWhiteSdk=e.newWhiteSdk,window.joinRoom=e.joinRoom,window.replayRoom=e.replayRoom,(0,O.addBridgeLogHook)([he],b.logger)},t.sdkCallbackHandler=void 0,t.setWhiteboardDivGetter=function(e){oe=e};var o=n(16362),i=n(17475),a=n(55917),c=n(83391),u=n(11043),s=n(35862),l=n(48665),f=n(1342),d=n(78801),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(68098)),y=J(n(36804)),m=n(80766),g=n(12382),h=n(40010),v=n(72796),b=n(71921),w=n(78234),S=n(25926),P=n(38635),O=n(83835),k=n(33334),E=J(n(94838)),j=n(3402),C=n(87116),x=n(57233),_=n(67546),A=n(54578),M=n(67640),I=n(46666),L=n(49593),N=n(62442),T=J(n(49149)),R=J(n(30271)),D=J(n(99146)),B=["log","__nativeTags","__platform","__netlessUA","initializeOriginsStates","useMultiViews","userCursor","enableInterrupterAPI","routeBackup","enableRtcIntercept","enableRtcAudioEffectIntercept","enableSlideInterrupterAPI","enableImgErrorCallback","enableIFramePlugin","enableSyncedStore","enableAppliancePlugin"],W=["timeout","cameraBound","windowParams","disableCameraTransform","nativeWebSocket"],F=["step","cameraBound","mediaURL","windowParams"],U=["step","cameraBound"];function J(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function V(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=z(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function z(e,t){if(e){if("string"==typeof e)return $(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function X(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */X=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),c=new M(r||[]);return i(a,"_invoke",{value:C(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",y="suspendedYield",m="executing",g="completed",h={};function v(){}function b(){}function w(){}var S={};l(S,c,(function(){return this}));var P=Object.getPrototypeOf,O=P&&P(P(I([])));O&&O!==n&&o.call(O,c)&&(S=O);var k=w.prototype=v.prototype=Object.create(S);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(i,a,c,u){var s=d(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,u)}),(function(e){n("throw",e,c,u)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function C(t,n,r){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===h)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var s=d(t,n,r);if("normal"===s.type){if(o=r.done?g:y,s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=g,r.method="throw",r.arg=s.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=w,i(k,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(j.prototype),l(j.prototype,u,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new j(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,s,"Generator"),l(k,c,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,te(r.key),r)}}function Q(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ee(e,t,n){return(t=te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function ne(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ne(i,r,o,a,c,"next",e)}function c(e){ne(i,r,o,a,c,"throw",e)}a(void 0)}))}}var oe,ie=new Blob([T.default],{type:"text/javascript"}),ae=URL.createObjectURL(ie),ce=new Blob([R.default],{type:"text/javascript"}),ue=URL.createObjectURL(ce),se=void 0,le=void 0,fe=void 0,de=void 0,pe=void 0,ye=t.sdkCallbackHandler=new _.SDKCallbackHandler,me="whiteboard-native-css",ge="whiteboard-native-font-face";(0,c.setAsyncModuleLoadMode)(c.AsyncModuleLoadMode.StoreAsBase64);var he="sdk";function ve(){window.manager?(window.manager.destroy(),window.manager=void 0,le=void 0,fe=void 0):le?(le.bindHtmlElement(null),le=void 0):fe&&(fe.bindHtmlElement(null),fe=void 0),window.syncedStore&&(0,A.destroySyncedStore)()}function be(e,t,n){return we.apply(this,arguments)}function we(){return we=re(X().mark((function e(t,n,r){var o,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.WindowManager.mount(Y(Y({containerSizeRatio:9/16,chessboard:!0,cursor:!!pe,supportAppliancePlugin:null===(o=de)||void 0===o?void 0:o.enableAppliancePlugin},r),{},{container:oe(),room:t}));case 2:return i=e.sent,(0,S.addManagerListener)(i,b.logger,n),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}var Se=Q((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ee(this,"newWhiteSdk",(function(e){var t=e.enableInterrupterAPI?function(e){var t=ye.onUrlInterrupter(e);return t.length>0?t:e}:void 0,n=function(){var t=re(X().mark((function t(n){var r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.enableSlideInterrupterAPI){t.next=6;break}return t.next=3,ye.slideUrlInterrupter(n);case 3:return r=t.sent,console.log("slideUrlInterrupter",n,r),t.abrupt("return",r.length>0?r:n);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=e.log,a=e.__nativeTags,w=e.__platform,S=e.__netlessUA,P=(e.initializeOriginsStates,e.useMultiViews),O=e.userCursor,k=(e.enableInterrupterAPI,e.routeBackup,e.enableRtcIntercept),E=e.enableRtcAudioEffectIntercept,j=(e.enableSlideInterrupterAPI,e.enableImgErrorCallback),C=e.enableIFramePlugin,_=e.enableSyncedStore,A=e.enableAppliancePlugin,L=K(e,B);(0,b.enableReport)(!!r),de=e,w&&(window.__platform=w),S&&(window.__netlessUA=S.join(" ")),j&&(0,o.hookCreateElement)(),pe=O?new i.CursorTool:void 0,a&&(window.__nativeTags=Y(Y({},window.__nativeTags),a));var T=L.pptParams||{};if(E)(0,p.usePlugin)(new m.EffectPlugin(new I.RtcAudioEffectClient("ppt")));else if(k){var R=new x.RtcAudioMixingClient;T.rtcClient=R,(0,p.usePlugin)(new m.MixingPlugin(R))}e.loggerOptions&&"debug"===e.loggerOptions.printLevelMask&&(0,p.usePlugin)(new M.SlideLoggerPlugin);var W,F=[],U=G(window.pluginParams||[]);try{for(U.s();!(W=U.n()).done;){var J=W.value,H=ee({},J.name,window[J.variable]);F.push(H)}}catch(e){U.e(e)}finally{U.f()}var z=(0,c.createPlugins)(Y({video:u.videoPlugin,audio:s.audioPlugin,video2:l.videoPlugin2,audio2:f.audioPlugin2,"video.js":(0,d.videoJsPlugin)({log:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];b.logger.apply(void 0,["videoJsPlugin",e].concat(n))}})},F));z.setPluginContext("video.js",{enable:!1,verbose:!0});var $,q=G(window.pluginContext||[]);try{for(q.s();!($=q.n()).done;){var Z=$.value;z.setPluginContext(Z.name,Z.params)}}catch(e){q.e(e)}finally{q.f()}window.plugins=z;var Q,te,ne,oe=e.slideAppOptions||{};g.WindowManager.register({kind:"Slide",appOptions:Y({urlInterrupter:n},oe),addHooks:p.addHooks,src:(Q=re(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.default);case 1:case"end":return e.stop()}}),e)}))),function(){return Q.apply(this,arguments)})}),g.WindowManager.register({kind:"Talkative",src:(te=re(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.default);case 1:case"end":return e.stop()}}),e)}))),function(){return te.apply(this,arguments)}),appOptions:{debug:!1}}),g.WindowManager.register({kind:"Plyr",src:(ne=re(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.default);case 1:case"end":return e.stop()}}),e)}))),function(){return ne.apply(this,arguments)}),appOptions:{debug:!1}});var ie,ae=G(window.appRegisterParams||[]);try{for(ae.s();!(ie=ae.n()).done;){var ce=ie.value;g.WindowManager.register({kind:ce.kind,appOptions:ce.appOptions,src:ce.variable?window[ce.variable]:ce.url})}}catch(e){ae.e(e)}finally{ae.f()}var ue=_||C||P,le=[].concat(V(C?[v.IframeBridge]:[]),V(_?[h.SyncedStorePlugin]:[]),V(A?[N.ApplianceMultiPlugin]:[])),fe=V(C?[v.IframeWrapper]:[]);try{se=new c.WhiteWebSdk(Y(Y({},L),{},{invisiblePlugins:le,wrappedComponents:fe,plugins:z,urlInterrupter:t,onWhiteSetupFailed:function(e){ye.onSetupFail(e)},pptParams:T,useMobXState:ue})),window.sdk=se}catch(e){ye.onSetupFail(e)}})),ee(this,"joinRoom",(function(e,t){if(se){ve();e.timeout;var n=e.cameraBound,r=e.windowParams,o=e.disableCameraTransform,i=e.nativeWebSocket,a=K(e,W),c=de,u=c.useMultiViews,s=c.enableSyncedStore,l=V(u?[g.WindowManager]:[]);window.nativeWebSocket=i;var f=new P.RoomCallbackHandler;se.joinRoom(Y(Y({useMultiViews:u,disableCameraTransform:o},a),{},{invisiblePlugins:l,cursorAdapter:u?void 0:pe,cameraBound:(0,w.convertBound)(n),disableMagixEventDispatchLimit:u}),Y(Y({},f),ye)).then(function(){var e=re(X().mark((function e(n){var i,a,c,l,d;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve(),i=(le=n).state,!u){e.next=25;break}return e.prev=4,c=r&&r.fullscreen,window.fullScreen=c,c&&(document.body.appendChild(document.createElement("style")).textContent="\n                            .telebox-titlebar, .telebox-max-titlebar-maximized,.netless-app-slide-footer, .telebox-footer-wrap, .telebox-titlebar-wrap { display: none }\n                        "),e.next=10,be(le,f,r);case 10:if(l=e.sent,i=Y(Y(Y({},i),{windowBoxState:l.boxState}),{},{cameraState:l.cameraState,sceneState:l.sceneState},{pageState:l.pageState}),c&&l.setMaximized(!0),null===(a=de)||void 0===a||!a.enableAppliancePlugin){e.next=18;break}return e.next=16,N.ApplianceMultiPlugin.getInstance(l,{options:{cdn:{fullWorkerUrl:ae,subWorkerUrl:ue}}});case 16:d=e.sent,window.appliancePlugin=d;case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(4),e.abrupt("return",t(JSON.stringify({__error:{message:e.t0.message,jsStack:e.t0.stack}})));case 23:e.next=28;break;case 25:le.bindHtmlElement(oe()),pe&&pe.setRoom(le),i=Y(Y({},i),(0,O.createPageState)(i.sceneState));case 28:if(!s){e.next=31;break}return e.next=31,(0,A.initSyncedStore)(le);case 31:return(0,j.registerBridgeRoom)(le),o&&(le.disableCameraTransform=o),e.abrupt("return",t(JSON.stringify({state:i,observerId:le.observerId,isWritable:le.isWritable})));case 34:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}))}else t(JSON.stringify({__error:{message:"sdk init failed"}}))})),ee(this,"replayRoom",(function(e,t){var n;if(se){var r=e.step,o=void 0===r?500:r,i=e.cameraBound,a=e.mediaURL,u=(e.windowParams,K(e,F));ve();var s,l=de,f=l.useMultiViews,d=l.enableSyncedStore;s=new k.ReplayerCallbackHandlerImp(o,!!a,!(null===(n=de)||void 0===n||!n.enableIFramePlugin),(function(t,n){var r;if((n===c.PlayerPhase.Pause||n===c.PlayerPhase.Playing)&&null!==(r=de)&&void 0!==r&&r.useMultiViews&&null===t.getInvisiblePlugin(g.WindowManager.kind)&&!window.manager){var o=t,i=e.windowParams;setTimeout((function(){be(o,s,i).catch((function(e){console.error("mount error",e)}))}),0)}}));var p=V(f?[g.WindowManager]:[]);se.replayRoom(Y(Y({},u),{},{cursorAdapter:f?void 0:pe,cameraBound:(0,w.convertBound)(i),invisiblePlugins:p,useMultiViews:f}),Y(Y({},s),ye)).then(function(){var e=re(X().mark((function e(n){var r,o,i,c,u,l,p,y;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve(),fe=n,f||(n.bindHtmlElement(oe()),pe&&(null===(r=pe)||void 0===r||r.setPlayer(fe))),!d){e.next=6;break}return e.next=6,(0,A.initSyncedStore)(fe);case 6:return a?((o=document.createElement("video")).setAttribute("x5-video-player-type","h5-page"),o.setAttribute("playsInline",""),o.setAttribute("style","display:none;"),o.setAttribute("class","video-js"),document.body.appendChild(o),i=new E.default(fe,{url:a,videoDOM:o}),c=i.create(),(0,C.registerPlayerBridge)(n,c,k.lastSchedule,s)):(0,C.registerPlayerBridge)(n,void 0,k.lastSchedule,s),u=n.progressTime,l=n.timeDuration,p=n.framesCount,y=n.beginTimestamp,e.abrupt("return",t(JSON.stringify({timeInfo:{scheduleTime:u,timeDuration:l,framesCount:p,beginTimestamp:y}})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}))}else t(JSON.stringify({__error:{message:"sdk init failed"}}))})),ee(this,"isPlayable",(function(e,t){if(se){e.step,e.cameraBound;var n=K(e,U);se.isPlayable(Y({},n)).then((function(e){t(e)}))}else t(!1)})),ee(this,"asyncInsertFontFaces",(function(e,t){var n,r=G(e);try{var o=function(){var e=n.value,r=e["font-weight"],o=e["font-style"],i=e["unicode-range"],a=JSON.parse(JSON.stringify({weight:r,style:o,unicodeRange:i})),c=new FontFace(e["font-family"],e.src,a);c.load().then((function(n){(0,b.logger)("asyncInsertFontFaces load font success",e),document.fonts.add(c),t({success:!0,fontFace:e})})).catch((function(n){(0,b.logger)("asyncInsertFontFaces load font failed",e),t({success:!1,fontFace:e,error:n})}))};for(r.s();!(n=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}})),ee(this,"updateNativeFontFaceCSS",(function(e){var t=document.getElementById(ge);t||((t=document.createElement("style")).id=ge,document.body.appendChild(t));var n=e.map((function(e){var t=Object.keys(e).reduce((function(t,n){return e[n].includes(" ")?"".concat(t,"\n").concat(n,': "').concat(e[n],'";'):"".concat(t,"\n").concat(n,": ").concat(e[n],";")}),"");return"@font-face {\n                ".concat(t,"\n            }")}));t.innerHTML=n.join("\n")})),ee(this,"updateNativeTextareaFont",(function(e){var t=document.getElementById(me);t||((t=document.createElement("style")).id=me,document.body.appendChild(t));var n=e.map((function(e){return'"'.concat(e,'"')})).join(",");t.innerHTML=".netless-whiteboard textarea {\n            font-family: ".concat(n,"; \n        }")})),ee(this,"nativeLog",(function(e,t){t()})),ee(this,"setParameters",(function(e){Boolean(e.effectMixingForMediaPlayer)&&(window.__mediaPlayerAudioEffectClient=new I.RtcAudioEffectClient("mediaPlayer"))})),ee(this,"registerApp",(function(e,t){if(e.javascriptString){var n=e.variable,r=Function("\n                    ".concat(e.javascriptString,";\n                    if (typeof ").concat(n,' == "undefined") {\n                        return undefined; \n                    } else {\n                        return ').concat(n,";\n                    } \n                    "))();if(!r)return void t(JSON.stringify({__error:{message:"variable does not exist"}}));g.WindowManager.register({kind:e.kind,src:r,appOptions:e.appOptions}).then((function(){return t()}))}else e.url&&g.WindowManager.register({kind:e.kind,src:e.url,appOptions:e.appOptions}).then((function(){return t()}))})),ee(this,"prepareWhiteConnection",(function(e,t){var n=e.appId,r=e.region,o=e.expire||432e5;(0,L.prepare)(n,r,o).then((function(){t()})).catch((function(e){t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}))}))}))},70632:function(){"use strict";"undefined"==typeof Proxy&&(window.__netlessMobXUseProxies="ifavailable")},71921:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableReport=function(e){c=e},t.logger=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).log.apply(t,[e].concat(r)),s.apply(void 0,[c,e].concat(r))};var r=n(69685);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=!1;var u=[];function s(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),c=2;c<n;c++)a[c-2]=arguments[c];var s,l=a.map((function(e){return"object"===o(e)?(e&&e.hasOwnProperty("roomToken")&&(e.roomToken="***"),JSON.stringify(e)):e}));if(window.room){var f;(f=window.room.logger).info.apply(f,["[Bridge]".concat(t)].concat(i(l))),u.length>0&&(u.forEach((function(e){var t;window.room&&(t=window.room.logger).info.apply(t,i(e))})),u=[])}else{var d=[t].concat(i(l));u.push(d)}s=0===a.length?void 0:1===a.length?a[0]:a.every((function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}))?a.join(" "):a,e&&r.sdkCallbackHandler.onLogger({funName:t,params:s})}},78234:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertBound=function(e){if(!e)return;return{centerX:e.centerX,centerY:e.centerY,width:e.width,height:e.height,maxContentMode:i(e.maxContentMode),minContentMode:i(e.minContentMode)}};var r=n(83391),o=n(33487);function i(e){if(e){var t=void 0===e.scale?1:e.scale,n=void 0===e.space?0:e.space;o.ScaleMode.Scale;switch("string"==typeof e.mode?parseInt(o.ScaleMode[e.mode]):e.mode){case o.ScaleMode.Scale:return(0,r.contentModeScale)(t);case o.ScaleMode.AspectFill:return(0,r.contentModeAspectFill)();case o.ScaleMode.AspectFillScale:return(0,r.contentModeAspectFillScale)(t);case o.ScaleMode.AspectFit:return(0,r.contentModeAspectFit)();case o.ScaleMode.AspectFitScale:return(0,r.contentModeAspectFitScale)(t);case o.ScaleMode.AspectFitSpace:return(0,r.contentModeAspectFitSpace)(n);default:return}}}},80542:function(){},80930:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=80930,e.exports=t},83835:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addBridgeLogHook=function(e,t){function n(e){return e.keys&&e.keys()||Object.getOwnPropertyNames(e)}function r(e,t){return e.get&&e.get(t)||e[t]}var o,u=void 0!==window.ReactNativeWebView,s=u?window.bridge.asyncMethods:window.bridge.registerMap.async,l=i(n(s));try{for(l.s();!(o=l.n()).done;){var f=o.value;if(e.includes(f)){var d,p=r(s,f),y=i(Object.getOwnPropertyNames(p));try{var m=function(){var e=d.value,n=p[e];if("function"!=typeof n)return 1;p[e]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];try{return n.apply(void 0,o)}finally{t.apply(void 0,[e].concat(function(e){if(Array.isArray(e))return c(e)}(u=o.slice(0,-1))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||a(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}var u}};for(y.s();!(d=y.n()).done;)m()}catch(e){y.e(e)}finally{y.f()}}}}catch(e){l.e(e)}finally{l.f()}var g,h=u?window.bridge.methods:window.bridge.registerMap.normal,v=i(n(h));try{for(v.s();!(g=v.n()).done;){var b=g.value;if(e.includes(b)){var w,S=r(h,b),P=i(Object.getOwnPropertyNames(S));try{var O=function(){var e=w.value,n=S[e];if("function"!=typeof n)return 1;S[e]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];try{return n.apply(void 0,o)}finally{t.apply(void 0,[e].concat(o))}}};for(P.s();!(w=P.n()).done;)O()}catch(e){P.e(e)}finally{P.f()}}}}catch(e){v.e(e)}finally{v.f()}},t.createPageState=function(e){return e?{pageState:{index:e.index,length:e.scenes.length}}:{}},t.globalErrorEvent=function(e){o.sdkCallbackHandler.onThrowError({message:e.message,error:e.error})},t.isRoom=function(e){return void 0===e.roomUUID},t.postCustomMessage=function(e){var t=e.data;"pptImageLoadError"===t.name&&o.sdkCallbackHandler.onPostMessage(JSON.stringify(t));"iframe"===t.name&&o.sdkCallbackHandler.onPostMessage(JSON.stringify(t));t.shapeId&&t.mediaType&&t.action&&o.sdkCallbackHandler.onPostMessage(JSON.stringify(t));t.customMessage&&o.sdkCallbackHandler.onPostMessage(JSON.stringify(t))},t.usePrevious=function(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current};var r=n(48759),o=n(69685);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}},87116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerStateBridge=t.PlayerAsyncBridge=void 0,t.registerPlayerBridge=function(e,t,n,l){window.player=e,window.combinePlayer=t,(0,o.registerDisplayerBridge)(e),(0,u.registerAsyn)(s.playerNameSpace,new b(e,t)),(0,u.register)(s.playerStateNameSpace,new v(e,t)),(0,a.addBridgeLogHook)([s.playerNameSpace,s.playerStateNameSpace],c.logger),t&&t.setOnStatusChange((function(e,t){switch(n.time=0,e){case i.PublicCombinedStatus.Pause:l.onPhaseChanged(r.PlayerPhase.Pause);break;case i.PublicCombinedStatus.PauseBuffering:case i.PublicCombinedStatus.PauseSeeking:case i.PublicCombinedStatus.PlayingBuffering:case i.PublicCombinedStatus.PlayingSeeking:l.onPhaseChanged(r.PlayerPhase.Buffering);break;case i.PublicCombinedStatus.Ended:l.onPhaseChanged(r.PlayerPhase.Ended);break;case i.PublicCombinedStatus.Playing:l.onPhaseChanged(r.PlayerPhase.Playing);break;case i.PublicCombinedStatus.Disabled:l.onStoppedWithError(new Error(t))}}))};var r=n(83391),o=n(11824),i=n(94838),a=n(83835),c=n(71921),u=n(55917),s=n(33487);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function y(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var v=t.PlayerStateBridge=y((function e(t,n){var r=this;m(this,e),this.player=t,this.combinePlayer=n,g(this,"roomUUID",(function(){return r.player.roomUUID})),g(this,"phase",(function(){return r.player.phase})),g(this,"playerState",(function(){try{var e=r.player.state;return window.manager&&(e=d(d(d({},e),{windowBoxState:window.manager.boxState}),{},{cameraState:window.manager.cameraState,sceneState:window.manager.sceneState})),e}catch(e){return{}}})),g(this,"isPlayable",(function(){return r.player.isPlayable})),g(this,"playbackSpeed",(function(){return r.combinePlayer?r.combinePlayer.playbackRate:r.player.playbackSpeed})),g(this,"timeInfo",(function(){var e=r.player;return{scheduleTime:e.progressTime,timeDuration:e.timeDuration,framesCount:e.framesCount,beginTimestamp:e.beginTimestamp}}))})),b=t.PlayerAsyncBridge=y((function e(t,n){var o=this;m(this,e),this.player=t,this.combinePlayer=n,g(this,"play",(function(){o.combinePlayer?o.combinePlayer.play():o.player.play()})),g(this,"pause",(function(){o.combinePlayer?o.combinePlayer.pause():o.player.pause()})),g(this,"stop",(function(){try{o.player.stop()}catch(e){console.log("stop:",e.message)}})),g(this,"seekToScheduleTime",(function(e,t){o.combinePlayer?(o.combinePlayer.seek(e),t&&setTimeout((function(){t(r.PlayerSeekingResult.Success)}),0)):o.player.seekToProgressTime(e).then((function(e){t&&t(e)}))})),g(this,"setObserverMode",(function(e){o.player.setObserverMode(e)})),g(this,"setPlaybackSpeed",(function(e){o.combinePlayer?o.combinePlayer.playbackRate=e:o.player.playbackSpeed=e}))}))},89003:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=89003,e.exports=t}},function(e){e.O(0,[896,667,180,502],(function(){return t=60209,e(e.s=t);var t}));e.O()}]);